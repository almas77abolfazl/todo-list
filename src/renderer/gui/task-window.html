<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <div class="main-page">
      <div class="title-bar"></div>
      <input id="taskTitle" type="text" placeholder="Task Title" />
      <input type="submit" value="save" onclick="addNewTask(taskTitle.value)" />
    </div>
    <script>
      const { ipcRenderer } = require("electron");
      let taskId = null;
      ipcRenderer.on("getTaskDefaultValue", setDefaultValue);
      function setDefaultValue(event, task) {
        const titleInput = document.querySelector("#taskTitle");
        titleInput.value = task.title;
        taskId = task.id;
      }
      function addNewTask(value) {
        if (value) ipcRenderer.send("saveTask", value, taskId);
      }
    </script>
  </body>
</html>
